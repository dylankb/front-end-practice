<body>
  <script>
    function shallowCopy(object) {
      var copy = {};

      while (object) {
        var propertyNames = Object.getOwnPropertyNames(object);

        for (var i =0; i < propertyNames.length; i++) {
          copy[propertyNames[i]] = object[propertyNames[i]];
        }

        object = Object.getPrototypeOf(object);
      }

      return copy;
    }

    var foo = {
      a: 1,
      b: 2,
    };

    var bar = Object.create(foo);
    bar.c = 3;
    bar.say = function() {
      console.log("c is " + this.c);
    }

    var baz = shallowCopy(bar);
    console.log(baz.a);       // 1
    baz.say();                // c is 3

  </script>
</body>
