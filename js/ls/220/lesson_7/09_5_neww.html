<body>
  <script>
    function neww(constructor, args) {
      var object = Object.create(constructor.prototype);
      var result = constructor.apply(object, args);
      object.constructor = constructor;

      // var obj = {};  // Not the way to do this ...
      // obj.prototype = constructor;
      // obj.constructor = constructor;

      // for (var i=0; i < arguments[1].length; i++) {
      //   obj[arguments[i]]
      //
      // }
      // return obj;

      result ? object : result;
    }

    function Person(firstName, lastName) {
      this.firstName = firstName;
      this.lastName = lastName;
    }

    Person.prototype.greeting = function() {
      console.log('Hello, ' + this.firstName + ' ' + this.lastName);
    }

    var john = neww(Person, ['John', 'Doe']);
    john.greeting();          // Hello, John Doe
    console.log(john.constructor);         // Person(firstName, lastName) {...}
  </script>
</body>
